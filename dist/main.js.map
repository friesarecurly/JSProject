{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./src/scripts/exercise.js","webpack:///./src/scripts/ramen.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","document","addEventListener","margin","svg","d3","select","append","attr","x","scaleBand","range","padding","xAxis","y","scaleLinear","yAxis","update","time","csv","Exercise","Calories","Hour","then","data","domain","map","transition","duration","axisBottom","selectAll","max","nice","axisRight","tip","style","u","exit","remove","enter","merge","bandwidth","on","e","html","clientX","clientY","height","text","this","brand","Brand","type","Ramen","calories","totalFat","sFat","tFat","cholesterol","sodium","carbs","fiber","sugars","Sugars","protein","Protein","render","console","log","g","axisLeft","join","delay","toElement","__data__","newX","sort","checked","a","b","ascending","copy","descending","node"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import \"./styles/index.scss\"\nimport \"./styles/header.scss\"\nimport \"./styles/graphs.scss\"\nimport \"./scripts/exercise\"\nimport \"./scripts/ramen\"\n","document.addEventListener(\"DOMContentLoaded\", () => {\n  const margin = { top: 50, bottom: 150, left: -100, right: 30 }\n  const width = 400\n  const height = 650\n\n  const svg = d3\n    .select(\".d3-exercise\")\n    .append(\"svg\")\n    .attr(\"viewBox\", [0, 0, width, height])\n    .attr(\"preserveAspectRatio\", \"xMidYMid meet\")\n    .attr(\"height\", height - margin.top - margin.bottom) // chart height\n    .attr(\"width\", width - margin.left - margin.right) // chart width\n\n  const x = d3\n    .scaleBand()\n    .range([0, width - margin.right])\n    .padding(0.1)\n  const xAxis = svg\n    .append(\"g\")\n    .attr(\"transform\", `translate(0, ${height - margin.bottom})`)\n\n  const y = d3.scaleLinear().range([height - margin.bottom, margin.top])\n  const yAxis = svg\n    .append(\"g\")\n    .attr(\"class\", \"yAxis exercise\")\n    .attr(\"transform\", `translate(${width - margin.right}, 0)`)\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"label\")\n    .attr(\"x\", height / 2.5)\n    .attr(\"y\", -width * 1.1)\n    .attr(\"transform\", \"rotate(90)\")\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Calories\")\n    .attr(\"font-size\", \"25px\")\n\n  // use update as a function to use closures below\n  function update(time) {\n    d3.csv(\n      \"https://github.com/iamdanahn/RamenTime/blob/main/assets/exercise.csv\",\n      (d) => {\n        // sets getters to use in fn(update)\n        // iterates indiviudal datum of csv\n        return {\n          Exercise: d.Exercise,\n          Calories: +d.Calories,\n          Hour: +d.Hour,\n        }\n      },\n    ).then((data) => {\n      // promise success replies with whole data\n\n      // domain == data values displayed\n      x.domain(data.map((d) => d.Exercise))\n      xAxis\n        .transition()\n        .duration(1000)\n        .call(d3.axisBottom(x))\n        .attr(\"class\", \"xAxis exercise\")\n        .selectAll(\"text\")\n        .attr(\"transform\", \"rotate(-25)\")\n\n      y.domain([\n        0,\n        d3.max(data, function (d) {\n          debugger\n          return d[`${time}`]\n        }),\n      ]).nice()\n      yAxis.transition().duration(500).call(d3.axisRight(y))\n\n      const tip = d3\n        .select(\"body\")\n        .append(\"div\")\n        .style(\"opacity\", 0)\n        .attr(\"class\", \"d3-tip exercise\")\n\n      // when\n      const u = svg.selectAll(\"rect\").data(data)\n      u.exit().remove()\n      u.enter()\n        .append(\"rect\")\n        .attr(\"class\", \"bar exercise\")\n        .merge(u)\n        // .transition()\n        // .duration(500)\n        .attr(\"x\", (d) => x(d.Exercise))\n        .attr(\"y\", (d) => y(0)) // y axis all set to y(0), in this case 500\n        .attr(\"width\", x.bandwidth())\n        .attr(\"height\", (d) => 0) // set height to 0 for animation below\n\n      svg\n        .selectAll(\"rect\")\n        .on(\"mouseover\", (e, d) => {\n          tip.transition().duration(300).style(\"opacity\", 0.8)\n          tip\n            .html(\n              `Exercise: ${d.Exercise} <br/>\n              Calories: ${+d[`${time}`]} <br/>`,\n            )\n            .style(\"left\", `${e.clientX - 50}px`)\n            .style(\"top\", `${e.clientY}px`)\n        })\n        .on(\"mousemove\", (e) => {\n          tip\n            .style(\"left\", `${e.clientX - 100}px`)\n            .style(\"top\", `${e.clientY - 50}px`)\n        })\n        .on(\"mouseout\", (d) => {\n          tip.transition().duration(100).style(\"opacity\", 0)\n        })\n\n      // svg.selectAll(\"rect\").transition().duration(1000)\n\n      svg\n        .selectAll(\"rect\")\n        .transition()\n        .duration(800)\n        .attr(\"y\", (d) => y(d[`${time}`]))\n        .attr(\"height\", (d) => y(0) - y(d[`${time}`]))\n      // .delay(function (d, i) {\n      //   console.log(i)\n      //   return i * 100\n      // })\n\n      u.exit().remove()\n    })\n  }\n\n  d3.selectAll(\".btn-exercise\").on(\"click\", function () {\n    debugger\n    update(this.value)\n  })\n\n  update(\"Calories\")\n})\n\n// const bars = svg\n//   .append(\"g\")\n\n//   .selectAll(\"rect\")\n//   .data(data)\n//   .join(\"rect\")\n//   .attr(\"class\", \"bar exercise\")\n//   .attr(\"x\", (d) => x(d.exercise)) // spreads bars over x axis\n//   .attr(\"y\", (d) => y(d.calories))\n//   .attr(\"height\", (d) => y(0) - y(d.calories))\n//   .attr(\"width\", x.bandwidth())\n//   .on(\"mouseover\", tip.show)\n//   .on(\"mouseout\", tip.hide)\n\n// // call area to render features\n// svg.call(tip)\n// svg.append(\"g\").call(xAxis)\n// svg.append(\"g\").call(yAxis)\n// return svg.node()\n//   })\n// })\n","// Baseline Nutrition Facts\n// Baseline 100%,2000,75,20,0,300,2300,275,28,0,0\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  d3.csv(\n    \"https://github.com/iamdanahn/RamenTime/blob/main/assets/nutrition_facts.csv\",\n    (d) => {\n      return {\n        brand: d.Brand,\n        type: d.Ramen,\n        calories: +d.Calories,\n        totalFat: +d[\"Total Fat (g)\"],\n        sFat: +d[\"Saturated Fat (g)\"],\n        tFat: +d[\"Trans Fat (g)\"],\n        cholesterol: +d[\"Cholesterol (mg)\"],\n        sodium: +d[\"Sodium (mg)\"],\n        carbs: +d[\"Total Carbohydrates (g)\"],\n        fiber: +d[\"Dietary Fiber (g)\"],\n        sugars: +d.Sugars,\n        protein: +d.Protein,\n      }\n    },\n  ).then((data) => {\n    render(data)\n    console.log(data)\n  })\n\n  // data xfer from d4.csv promise\n  const render = (data) => {\n    const width = 700\n    const height = 650\n    const margin = { top: 50, bottom: 150, left: 20, right: -100 }\n\n    // creates svg element\n    const svg = d3\n      .select(\".d3-ramen\")\n      .append(\"svg\") // adds svg ele as child to d3-div\n      .attr(\"viewBox\", [0, 0, width, height]) // creates the SVG box\n      .attr(\"preserveAspectRatio\", \"xMidYMid meet\") // preserves aspect ratio\n      .attr(\"height\", height - margin.top - margin.bottom) // chart height\n      .attr(\"width\", width) // chart width\n\n    // creates x scale\n    const x = d3\n      .scaleBand() // creates \"bands\"/columns\n      .range([margin.left / 2, width - margin.right]) // x axis range\n      .padding(0.1) // reg css padding\n      .domain(data.map((d) => d.type)) //d3.range(data.length)) // dynamic range of elements\n\n    // label on bottom\n    function xAxis(g) {\n      debugger\n      g.call(d3.axisBottom(x))\n        .attr(\"class\", \"xText\")\n        .attr(\"font-size\", \"20px\") // original font was too small\n        .attr(\"transform\", `translate(0, ${height - margin.bottom})`) // x-axis line was showing on top\n        .selectAll(\"text\")\n        .transition()\n        .duration(1000)\n        .attr(\"transform\", \"rotate(-25)\")\n        .attr(\"text-anchor\", \"end\")\n    }\n    svg.append(\"g\").call(xAxis)\n\n    // create y scale\n    const y = d3\n      .scaleLinear() // scales your data to range size\n      .range([height - margin.bottom, margin.top]) // y axis range\n      .domain([0, d3.max(data, (d) => d.calories)]) // y axis scaling\n      .nice() // adds remaining top tick if left out\n\n    // label on left\n    function yAxis(g) {\n      g.call(d3.axisLeft(y)) //.ticks(null, data.format))\n        .attr(\"font-size\", \"15px\")\n        .append(\"text\")\n        .attr(\"class\", \"yText\")\n    }\n    svg.append(\"g\").call(yAxis)\n\n    // tooltip above bar\n    const tip = d3\n      .select(\"body\")\n      .append(\"div\")\n      .style(\"opacity\", 0)\n      .attr(\"class\", \"d3-tip ramen\")\n\n    // creates the bars\n    const bars = svg\n      .append(\"g\") // adds group ele to svg ele\n\n      .selectAll(\"rect\") // selects all rectangles, if none found, creates empty selection\n      .data(data) //.sort((a, b) => d3.descending(a.calories, b.calories)))\n      .join(\"rect\") // similar to .join((enter) => enter.append('rect'))\n      .attr(\"class\", \"bar ramen\") // adds classname, now can be modified in scss\n      .attr(\"x\", (d) => x(d.type)) //, i) => x(i)) // places elements in order on x axis, d=data, i=index\n      .attr(\"width\", x.bandwidth()) // calcs thickness of bars\n      .attr(\"y\", (d) => y(0))\n      .attr(\"height\", (d) => 0)\n\n    svg\n      .selectAll(\"rect\")\n      .transition()\n      .duration(800)\n      .attr(\"y\", (d) => y(d.calories))\n      .attr(\"height\", (d) => y(0) - y(d.calories))\n      .delay(function (d, i) {\n        return i * 100\n      })\n\n    svg\n      .selectAll(\"rect\")\n      .on(\"mouseover\", (e, d) => {\n        // e == mouse event\n        tip.transition().duration(300).style(\"opacity\", 0.8)\n        // console.log(e)\n        // console.log(d)\n        tip\n          .html(\n            `Brand: ${d.brand} <br/>\n           Total fat(g): ${d.totalFat} <br/>\n           Saturated fat(g): ${d.sFat} <br/>\n           Trans fat(g): ${d.tFat} <br/>\n           Cholesterol (mg): ${d.cholesterol} <br/>\n           Sodium (mg): ${d.sodium} <br/>\n           Dietary Fiber (g): ${d.fiber} <br/>\n           Sugar (g): ${d.sugars} <br/>\n           Protein (g): ${d.protein} <br/>\n         `,\n          )\n          .style(\"left\", `${e.clientX}px`)\n          .style(\"top\", `${e.clientY}px`)\n      })\n      .on(\"mousemove\", (e, d) => {\n        // console.log(e)\n        // console.log(d)\n        tip.style(\"left\", `${e.clientX}px`).style(\"top\", `${e.clientY - 50}px`)\n      })\n      .on(\"mouseout\", (e, d) => {\n        // console.log(e)\n        // console.log(d)\n        tip.transition().duration(100).style(\"opacity\", 0)\n      })\n      // used for testing\n      .attr(\"value\", (d, i) => d.type)\n      .on(\"click\", (d) => console.log(d.toElement.__data__.type))\n\n    // Calories label on left side\n    svg\n      .append(\"text\")\n      .attr(\"class\", \"label ramenY\")\n      .attr(\"x\", -height / 2 + 40)\n      .attr(\"y\", -width * 0.1)\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"text-anchor\", \"middle\")\n      .text(\"Calories\")\n      .attr(\"font-size\", \"25px\")\n\n    d3.select(\"input\").on(\"change\", sort)\n\n    // const sortTimeout = setTimeout(() => {\n    //   debugger\n    //   d3.select(\"input\").property(\"checked\", true).each(sort)\n    // }, 500)\n\n    function sort() {\n      // clearTimeout(sortTimeout)\n\n      debugger\n      const newX = x\n        .domain(\n          data\n            .sort(\n              this.checked\n                ? (a, b) => {\n                    return b.calories - a.calories\n                  }\n                : (a, b) => {\n                    return d3.ascending(a.type, b.type)\n                  },\n            )\n            .map((d) => {\n              return d.type\n            }),\n        )\n        .copy()\n\n      svg\n        .selectAll(\"rect\")\n        .sort((a, b) => d3.descending(a.calories, b.calories))\n\n      const transition = svg.transition().duration(500),\n        delay = (d, i) => {\n          return i * 25\n        }\n\n      transition\n        .selectAll(\"rect\")\n        .delay(delay)\n        .attr(\"x\", (d) => {\n          return newX(d.type)\n        })\n\n      transition.select(\".xText\").call(xAxis).selectAll(\"g\").delay(delay)\n    }\n\n    svg.node()\n  }\n})\n"],"sourceRoot":""}